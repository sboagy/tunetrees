name = "tunetrees-sync-worker"
main = "src/index.ts"
compatibility_date = "2024-04-01"
compatibility_flags = ["nodejs_compat"]

# Hyperdrive Binding (PostgreSQL Connection Pooling)
# Run `npx wrangler hyperdrive create tunetrees-hyperdrive --connection-string="postgres://user:password@host:port/db"` to generate ID
[[hyperdrive]]
binding = "HYPERDRIVE"
id = "INSERT_HYPERDRIVE_ID_HERE"

[vars]
SUPABASE_URL = "INSERT_SUPABASE_URL_HERE"
# SUPABASE_JWT_SECRET should be set via `wrangler secret put SUPABASE_JWT_SECRET`

[observability]
enabled = true
