# =============================================================================
# TuneTrees SolidJS PWA - Environment Variables
# =============================================================================
#
# Copy this file to `.env` and fill in your values.
# NEVER commit `.env` to git (it's in .gitignore)
#
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase Configuration (REQUIRED for new SolidJS PWA)
# -----------------------------------------------------------------------------
# Get these from: https://app.supabase.com/project/_/settings/api

# Supabase Project URL
# Example: https://abcdefghijklmnop.supabase.co
VITE_SUPABASE_URL=

# Supabase Anonymous Key (public, safe for client-side use)
# This key is used for client-side auth and queries
VITE_SUPABASE_ANON_KEY=

# Supabase Service Role Key (KEEP SECRET - server-side only)
# Only needed for admin operations, data migration, or server-side scripts
# NEVER expose this in client-side code
SUPABASE_SERVICE_ROLE_KEY=

# PostgreSQL Connection String for Drizzle migrations
# Get from: https://app.supabase.com/project/_/settings/database
# Format: postgresql://postgres:[YOUR-PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
DATABASE_URL=

# -----------------------------------------------------------------------------
# OAuth Provider Credentials (OPTIONAL - for social login)
# -----------------------------------------------------------------------------
# Google OAuth (for "Sign in with Google")
# Get from: https://console.cloud.google.com/apis/credentials
# Create OAuth 2.0 Client ID and configure authorized redirect URIs
SUPABASE_AUTH_EXTERNAL_GOOGLE_CLIENT_ID=
SUPABASE_AUTH_EXTERNAL_GOOGLE_SECRET=

# GitHub OAuth (for "Sign in with GitHub")
# Get from: https://github.com/settings/developers
# Create a new OAuth App and configure callback URL
SUPABASE_AUTH_EXTERNAL_GITHUB_CLIENT_ID=
SUPABASE_AUTH_EXTERNAL_GITHUB_SECRET=

# -----------------------------------------------------------------------------
# Legacy Database (for data migration only)
# -----------------------------------------------------------------------------
# Path to existing SQLite database
# This is used by migration scripts to copy data to Supabase
TUNETREES_DB=./tunetrees_test.sqlite3

# -----------------------------------------------------------------------------
# Development Settings
# -----------------------------------------------------------------------------
# Python path for legacy backend scripts
PYTHONPATH=.

# Repository name
GITHUB_REPO=tunetrees

# Sync Worker URL (optional for development)
# In development, the worker client defaults to http://localhost:8787
# For production deployment, set this to your Cloudflare Worker URL
# VITE_WORKER_URL=https://tunetrees-sync-worker.your-subdomain.workers.dev

# Enable debug logging for sync operations (default: false)
# Set to 'true' to see detailed sync logs in console
# VITE_SYNC_DEBUG=true

# Enable sync diagnostics summary logs (default: false)
# Set to 'true' to log compact per-sync summaries such as:
#   [SyncDiag] type=INITIAL|INCREMENTAL pushed=.. pulled=.. pages=.. durationMs=..
#   [SyncDiag] topTables=table:count,...
#
# Note: to also see worker-side diagnostic lines in the browser console, the
# worker must be configured with SYNC_DIAGNOSTICS=true (see worker/wrangler.toml).
# VITE_SYNC_DIAGNOSTICS=true

# Disable automatic sync (default: false)
# Set to 'true' to prevent sync worker from starting
# Useful for testing local seed data or offline development
# VITE_DISABLE_SYNC=true

# Enable Supabase Realtime live sync (default: false)
# Set to 'true' to enable websocket-based real-time synchronization
# Note: Requires Realtime to be enabled in your Supabase project settings
# VITE_REALTIME_ENABLED=true

# Enable Workbox (service worker) debug logs (default: false)
# Set to 'true' to see "workbox Router is responding to..." messages
# Useful for debugging PWA caching behavior
# VITE_WORKBOX_DEBUG=true

# -----------------------------------------------------------------------------
# AI Practice Assistant (Google Gemini)
# -----------------------------------------------------------------------------
# Get your free API key from: https://aistudio.google.com/app/apikey
# This enables the conversational AI assistant for natural language queries
# IMPORTANT: For production, set this in Supabase Secrets (not in .env):
#   supabase secrets set GEMINI_API_KEY=your_key_here
# For local development with Supabase Functions:
#   supabase secrets set GEMINI_API_KEY=your_key --env-file .env.local
# GEMINI_API_KEY=
# Optional model override for Edge Function (default in code: gemini-2.0-flash)
# GEMINI_MODEL=gemini-2.0-flash
