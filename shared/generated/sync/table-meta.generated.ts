/**
 * AUTO-GENERATED FILE â€” DO NOT EDIT.
 *
 * Source: Postgres catalogs (schema: public)
 * Generated by: oosync/src/codegen-schema.ts
 */

export interface TableMetaCore {
  primaryKey: string | string[];
  uniqueKeys: string[] | null;
  timestamps: string[];
  booleanColumns: string[];
  supportsIncremental: boolean;
  hasDeletedFlag: boolean;
}

export const SYNCABLE_TABLES = [
  "daily_practice_queue",
  "genre",
  "genre_tune_type",
  "instrument",
  "note",
  "playlist",
  "playlist_tune",
  "practice_record",
  "prefs_scheduling_options",
  "prefs_spaced_repetition",
  "reference",
  "sync_change_log",
  "tab_group_main_state",
  "table_state",
  "table_transient_data",
  "tag",
  "tune",
  "tune_override",
  "tune_type",
  "user_profile",
] as const;

export type SyncableTableName = (typeof SYNCABLE_TABLES)[number];

export const TABLE_REGISTRY_CORE: Record<SyncableTableName, TableMetaCore> = {
  "daily_practice_queue": {
    primaryKey: "id",
    uniqueKeys: ["user_ref", "playlist_ref", "window_start_utc", "tune_ref"],
    timestamps: ["queue_date", "window_start_utc", "window_end_utc", "snapshot_coalesced_ts", "generated_at", "completed_at", "last_modified_at"],
    booleanColumns: ["active"],
    supportsIncremental: true,
    hasDeletedFlag: false,
  },
  "genre": {
    primaryKey: "id",
    uniqueKeys: null,
    timestamps: [],
    booleanColumns: [],
    supportsIncremental: false,
    hasDeletedFlag: false,
  },
  "genre_tune_type": {
    primaryKey: ["genre_id", "tune_type_id"],
    uniqueKeys: ["genre_id", "tune_type_id"],
    timestamps: [],
    booleanColumns: [],
    supportsIncremental: false,
    hasDeletedFlag: false,
  },
  "instrument": {
    primaryKey: "id",
    uniqueKeys: ["private_to_user", "instrument"],
    timestamps: ["last_modified_at"],
    booleanColumns: ["deleted"],
    supportsIncremental: true,
    hasDeletedFlag: true,
  },
  "note": {
    primaryKey: "id",
    uniqueKeys: null,
    timestamps: ["created_date", "last_modified_at"],
    booleanColumns: ["public", "favorite", "deleted"],
    supportsIncremental: true,
    hasDeletedFlag: true,
  },
  "playlist": {
    primaryKey: "playlist_id",
    uniqueKeys: null,
    timestamps: ["last_modified_at"],
    booleanColumns: ["deleted"],
    supportsIncremental: true,
    hasDeletedFlag: true,
  },
  "playlist_tune": {
    primaryKey: ["playlist_ref", "tune_ref"],
    uniqueKeys: ["playlist_ref", "tune_ref"],
    timestamps: ["current", "learned", "scheduled", "last_modified_at"],
    booleanColumns: ["deleted"],
    supportsIncremental: true,
    hasDeletedFlag: true,
  },
  "practice_record": {
    primaryKey: "id",
    uniqueKeys: ["tune_ref", "playlist_ref", "practiced"],
    timestamps: ["practiced", "due", "backup_practiced", "last_modified_at"],
    booleanColumns: [],
    supportsIncremental: true,
    hasDeletedFlag: false,
  },
  "prefs_scheduling_options": {
    primaryKey: "user_id",
    uniqueKeys: null,
    timestamps: ["last_modified_at"],
    booleanColumns: ["auto_schedule_new"],
    supportsIncremental: true,
    hasDeletedFlag: false,
  },
  "prefs_spaced_repetition": {
    primaryKey: ["user_id", "alg_type"],
    uniqueKeys: ["user_id", "alg_type"],
    timestamps: ["last_modified_at"],
    booleanColumns: ["enable_fuzzing"],
    supportsIncremental: true,
    hasDeletedFlag: false,
  },
  "reference": {
    primaryKey: "id",
    uniqueKeys: null,
    timestamps: ["last_modified_at"],
    booleanColumns: ["public", "favorite", "deleted"],
    supportsIncremental: true,
    hasDeletedFlag: true,
  },
  "sync_change_log": {
    primaryKey: "table_name",
    uniqueKeys: null,
    timestamps: [],
    booleanColumns: [],
    supportsIncremental: false,
    hasDeletedFlag: false,
  },
  "tab_group_main_state": {
    primaryKey: "id",
    uniqueKeys: null,
    timestamps: ["last_modified_at"],
    booleanColumns: [],
    supportsIncremental: true,
    hasDeletedFlag: false,
  },
  "table_state": {
    primaryKey: ["user_id", "screen_size", "purpose", "playlist_id"],
    uniqueKeys: ["user_id", "screen_size", "purpose", "playlist_id"],
    timestamps: ["last_modified_at"],
    booleanColumns: [],
    supportsIncremental: true,
    hasDeletedFlag: false,
  },
  "table_transient_data": {
    primaryKey: ["tune_id", "user_id", "playlist_id"],
    uniqueKeys: ["tune_id", "user_id", "playlist_id"],
    timestamps: ["practiced", "due", "backup_practiced", "last_modified_at"],
    booleanColumns: [],
    supportsIncremental: true,
    hasDeletedFlag: false,
  },
  "tag": {
    primaryKey: "tag_id",
    uniqueKeys: ["user_ref", "tune_ref", "tag_text"],
    timestamps: ["last_modified_at"],
    booleanColumns: [],
    supportsIncremental: true,
    hasDeletedFlag: false,
  },
  "tune": {
    primaryKey: "id",
    uniqueKeys: null,
    timestamps: ["last_modified_at"],
    booleanColumns: ["deleted"],
    supportsIncremental: true,
    hasDeletedFlag: true,
  },
  "tune_override": {
    primaryKey: "id",
    uniqueKeys: null,
    timestamps: ["last_modified_at"],
    booleanColumns: ["deleted"],
    supportsIncremental: true,
    hasDeletedFlag: true,
  },
  "tune_type": {
    primaryKey: "id",
    uniqueKeys: null,
    timestamps: [],
    booleanColumns: [],
    supportsIncremental: false,
    hasDeletedFlag: false,
  },
  "user_profile": {
    primaryKey: "id",
    uniqueKeys: null,
    timestamps: ["phone_verified", "last_modified_at"],
    booleanColumns: ["deleted"],
    supportsIncremental: true,
    hasDeletedFlag: true,
  },
};
